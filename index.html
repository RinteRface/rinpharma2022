<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/quarto-contrib/videojs/video.min.js"></script>
<link href="index_files/libs/quarto-contrib/videojs/video-js.css" rel="stylesheet"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.219">
<meta name="author" content="David Granjon, Novartis">
<title>My Slide Show</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #282a36; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #ff79c6; } /* Annotation */
    code span.at { color: #ff79c6; } /* Attribute */
    code span.bn { color: #bd93f9; } /* BaseN */
    code span.bu { color: #8be9fd; } /* BuiltIn */
    code span.cf { color: #ff79c6; } /* ControlFlow */
    code span.ch { color: #f1fa8c; } /* Char */
    code span.cn { color: #bd93f9; font-weight: bold; } /* Constant */
    code span.co { color: #6272a4; } /* Comment */
    code span.cv { color: #8be9fd; } /* CommentVar */
    code span.do { color: #ffb86c; } /* Documentation */
    code span.dt { color: #8be9fd; font-style: italic; } /* DataType */
    code span.dv { color: #bd93f9; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #8be9fd; } /* Extension */
    code span.fl { color: #bd93f9; } /* Float */
    code span.fu { color: #50fa7b; } /* Function */
    code span.im { color: #ff79c6; } /* Import */
    code span.in { color: #f1fa8c; } /* Information */
    code span.kw { color: #ff79c6; } /* Keyword */
    code span.op { color: #f8f8f2; } /* Operator */
    code span.ot { color: #50fa7b; } /* Other */
    code span.pp { color: #ff79c6; } /* Preprocessor */
    code span.re { color: #8be9fd; } /* RegionMarker */
    code span.sc { color: #ff79c6; } /* SpecialChar */
    code span.ss { color: #f1fa8c; } /* SpecialString */
    code span.st { color: #f1fa8c; } /* String */
    code span.va { color: #8be9fd; } /* Variable */
    code span.vs { color: #f1fa8c; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
<link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css" id="theme">
<link rel="stylesheet" href="assets/styles/dracula-ui.css">
<link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<script src="index_files/libs/quarto-diagram/mermaid.min.js"></script><script src="index_files/libs/quarto-diagram/mermaid-init.js"></script><link href="index_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center"><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="./assets/js/custom.js"></script><h1 class="title drac-heading drac-heading-xl drac-text-white">
    An introduction to <span class="drac-badge drac-bg-purple-cyan drac-text-black">{shinyValidator}</span>
  </h1>
  <br><p class="subtitle">2022-10-24</p>
  <p class="author">David Granjon, Novartis</p>
</section><section><section id="welcome" class="title-slide slide level1 center"><h1>Welcome</h1>
<p>We’re in for 2 hours of <strong>fun</strong>!</p>
<ul>
<li>Grab a ☕</li>
<li>Make yourself comfortable 🛋 or 🧘</li>
<li>Ask questions ❓</li>
</ul></section><section id="program" class="slide level2"><h2>Program</h2>
<ol type="1">
<li>Introduction <strong>5 min</strong>
</li>
<li>Setup {shinyValidator} <strong>45 min</strong>
</li>
<li>Analyse {shinyValidator} report <strong>45 min</strong>
</li>
<li>Questions</li>
</ol></section><section id="workshop-material" class="slide level2"><h2>Workshop Material</h2>
<ul>
<li>Slides: <a href="https://rinpharma2022.rinterface.com">https://rinpharma2022.rinterface.com/</a>
</li>
</ul>
<p>Clone this repository with the RStudio IDE or via the command line.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">git</span> clone https://github.com/RinteRface/rinpharma2022.git</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="bu">cd</span> rinpharma2022</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then run <code><a href="https://rstudio.github.io/renv/reference/restore.html">renv::restore()</a></code> to install the dependencies.</p>
</section><section id="pre-requisites" class="slide level2"><h2>Pre-requisites</h2>
<p>If you want to run <code>{shinyValidator}</code> locally (not on CI/CD), you must have:</p>
<ul>
<li>
<code>shinycannon</code> installed for the load-test part. See <a href="https://rstudio.github.io/shinyloadtest/articles/shinycannon.html">here</a>.</li>
<li>A chrome browser installed like <a href="https://www.chromium.org/getting-involved/download-chromium/">chromium</a>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-red" variant="subtle">
<span class="drac-text drac-text-red drac-line-height drac-text-left drac-text-bold drac-text-lg">This workshop is recorded. If it does not work for you, it is better to listen and stay on track. Fear not! You can retry later on your side with the recording. </span>
</div>
</div>
</div>
</div>
</section></section><section><section id="introduction" class="title-slide slide level1 center"><h1>Introduction</h1>

</section><section id="clothes-dont-make-the-man" class="slide level2"><h2>Clothes don’t make the man</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-mt-lg drac-card-subtle drac-text-purple drac-border-red" variant="subtle">
<p class="drac-text drac-text-white drac-line-height drac-text-left drac-text-normal drac-text-md drac-line-height-md">Your app may be as beautiful and as cool as you want, it is useless if it does not start/run.</p>
</div>
</div>
</div>
</div>
</section><section id="from-prototype-to-production" class="slide level2"><h2>From prototype to production</h2>
<p>How do we transition❓</p>
<div class="columns">
<div class="column" style="width:33%;">
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-purple" variant="subtle">
<p class="drac-text drac-text-white drac-line-height drac-text-left drac-text-normal drac-text-md drac-line-height-md">
<span class="drac-text drac-text-purple drac-line-height drac-text-left drac-text-bold drac-text-md">Reliable</span>
: is the app doing what it is intended to do?
</p>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="cell-output-display">

<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-orange" variant="subtle">
<p class="drac-text drac-text-white drac-line-height drac-text-left drac-text-normal drac-text-md drac-line-height-md">
<span class="drac-text drac-text-orange drac-line-height drac-text-left drac-text-bold drac-text-md">Stable</span>
: how often does it crash?
</p>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-green" variant="subtle">
<p class="drac-text drac-text-white drac-line-height drac-text-left drac-text-normal drac-text-md drac-line-height-md">
<span class="drac-text drac-text-green drac-line-height drac-text-left drac-text-bold drac-text-md">Available</span>
: is the app fast enough to handle multiple concurrent users?
</p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>In practice, a few apps meet all these requirements 😈.</p>
</section><section id="available-tools" class="slide level2"><h2>Available tools</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-1-1">Structure your app</a></li>
<li><a href="#tabset-1-2"><strong>dependencies</strong></a></li>
<li><a href="#tabset-1-3"><strong>Test</strong> code</a></li>
<li><a href="#tabset-1-4">Optimize</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1">
<p><img src="assets/images/svg/golem.svg" width="10%" style="display: block; margin: auto;" class="svg-img"></p>
<ul>
<li>Easier checking, linting, documentation and testing.</li>
<li>Just … <strong>easier</strong>. 😀</li>
</ul>
</div>
<div id="tabset-1-2">
<p><img src="assets/images/svg/renv.svg" width="10%" style="display: block; margin: auto;" class="svg-img"></p>
<ul>
<li>Fix package versions.</li>
<li>Increased <strong>reproducibility</strong>.</li>
</ul>
</div>
<div id="tabset-1-3">
<p><img src="assets/images/svg/testthat.svg" width="10%" style="display: block; margin: auto;" class="svg-img"></p>
<ul>
<li>Unit tests: test business logic.</li>
<li>Server testing: test how Shiny modules or pieces work together (with reactivity).</li>
<li>UI testing: test UI components, snapshots, headless-testing (<a href="https://github.com/rstudio/shinytest2">shinytest2</a>).</li>
</ul>
</div>
<div id="tabset-1-4">
<p>Are there bottlenecks?</p>
<ul>
<li>
<strong>Load</strong> testing: How does the app behave with 10 simultaneous user? <a href="https://rstudio.github.io/shinyloadtest/">shinyloadtest</a>.</li>
<li>
<strong>Profiling</strong>: What part of my app is slow?<a href="https://rstudio.github.io/profvis/">profvis</a>.</li>
<li>Reactivity: Are there any reactivity issues? <img src="assets/images/svg/reactlog.svg" width="10%" style="display: inline; margin: auto;" class="svg-img">.</li>
</ul>
</div>
</div>
</div>
</section><section id="automate-cicd" class="slide level2"><h2>Automate: CI/CD</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-2-1">What</a></li>
<li><a href="#tabset-2-2">Benefits</a></li>
<li><a href="#tabset-2-3">How?</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1">
<ul>
<li>Continuous integration: automatically <strong>check</strong> new features. 🏥</li>
<li>Continuous deployment: automatically <strong>deploy</strong> content. ✉️</li>
<li>Running on a <strong>remote</strong> environment ☁️:
<ul>
<li>
<a href="https://github.com/features/actions">Github Actions</a>.</li>
<li>
<a href="https://www.jenkins.io/">Jenkins</a>.</li>
<li>
<a href="https://docs.gitlab.com/ee/ci/">Gitlab CI/CD</a>.</li>
</ul>
</li>
</ul>
</div>
<div id="tabset-2-2">
<ul>
<li>
<strong>Automated</strong>.</li>
<li>More <strong>reproducible</strong> (more os/R flavors available).</li>
<li>
<strong>Time saver</strong>.</li>
<li>Less duplication.</li>
</ul>
</div>
<div id="tabset-2-3">
<p>Not easy 😢</p>
<ul>
<li>Select <strong>DevOps</strong> platform (GitLab, GitHub, …).</li>
<li>Add <strong>version control</strong> (git knowledge).</li>
<li>Build custom GitLab runner (optional).</li>
<li>Write <strong>CI/CD instructions</strong> (better support for GitHub).</li>
<li>Enjoy …</li>
</ul>
<p>Can’t we make things easier❓</p>
</div>
</div>
</div>
</section><section id="stop-i-am-lost" class="slide level2"><h2>Stop … I am lost …</h2>

<img src="assets/images/svg/sad.svg" width="40%" style="display: block; margin: auto;" class="svg-img r-stretch"><ul>
<li>There are just so many tools! How to use them properly?</li>
<li>Is there a way to <strong>automate</strong> all of this? I just don’t have time … 😞</li>
</ul></section><section id="welcome-shinyvalidator" class="slide level2"><h2>Welcome {shinyValidator}</h2>
<ul>
<li>Integrate all previous mentioned tools.</li>
<li>Produces a single HTML report output.</li>
<li>Flexible.</li>
</ul></section></section><section><section id="setup-shinyvalidator" class="title-slide slide level1 center"><h1>Setup {shinyValidator}</h1>

</section><section id="golem" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">{golem}</h2>
<p>We create an empty <a href="https://github.com/ThinkR-open/golem">golem</a> project:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb2-1" class="hljs-ln-code"><a href="#cb2-1"></a>path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="st">"&lt;FOLDER&gt;"</span>, <span class="st">"mypkg"</span>) </span>
<span id="cb2-2" class="hljs-ln-code"><a href="#cb2-2"></a>golem<span class="sc">::</span><span class="fu">create_golem</span>(path)</span>
<span id="cb2-3" class="hljs-ln-code"><a href="#cb2-3"></a><span class="co"># ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="golem-1" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">{golem}</h2>
<p>We add some useful files, basic test and link to git:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb3-1" class="hljs-ln-code"><a href="#cb3-1"></a>path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="st">"&lt;FOLDER&gt;"</span>, <span class="st">"mypkg"</span>) </span>
<span id="cb3-2" class="hljs-ln-code"><a href="#cb3-2"></a>golem<span class="sc">::</span><span class="fu">create_golem</span>(path)</span>
<span id="cb3-3" class="hljs-ln-code"><a href="#cb3-3"></a>usethis<span class="sc">::</span><span class="fu">use_mit_license</span>() <span class="co"># or whatever license</span></span>
<span id="cb3-4" class="hljs-ln-code"><a href="#cb3-4"></a>usethis<span class="sc">::</span><span class="fu">use_testthat</span>()</span>
<span id="cb3-5" class="hljs-ln-code"><a href="#cb3-5"></a>usethis<span class="sc">::</span><span class="fu">use_test</span>(<span class="st">"dummy"</span>)</span>
<span id="cb3-6" class="hljs-ln-code"><a href="#cb3-6"></a>usethis<span class="sc">::</span><span class="fu">use_git</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="renv" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">{renv}</h2>
<p>Initialize <a href="https://rstudio.github.io/renv/">renv</a> for R package dependencies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb4-1" class="hljs-ln-code"><a href="#cb4-1"></a><span class="fu">system</span>(<span class="st">"echo 'RENV_PATHS_LIBRARY_ROOT = ~/.renv/library' &gt;&gt; .Renviron"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="renv-1" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">{renv}</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb5-1" class="hljs-ln-code"><a href="#cb5-1"></a><span class="fu">system</span>(<span class="st">"echo 'RENV_PATHS_LIBRARY_ROOT = ~/.renv/library' &gt;&gt; .Renviron"</span>)</span>
<span id="cb5-2" class="hljs-ln-code"><a href="#cb5-2"></a></span>
<span id="cb5-3" class="hljs-ln-code"><a href="#cb5-3"></a><span class="co"># SCAN the project and look for dependencies</span></span>
<span id="cb5-4" class="hljs-ln-code"><a href="#cb5-4"></a>renv<span class="sc">::</span><span class="fu">init</span>()</span>
<span id="cb5-5" class="hljs-ln-code"><a href="#cb5-5"></a><span class="co"># install missing packages</span></span>
<span id="cb5-6" class="hljs-ln-code"><a href="#cb5-6"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"&lt;PACKAGE&gt;"</span>)</span>
<span id="cb5-7" class="hljs-ln-code"><a href="#cb5-7"></a><span class="co"># Capture new dependencies after package installation</span></span>
<span id="cb5-8" class="hljs-ln-code"><a href="#cb5-8"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="install-shinyvalidator" class="slide level2"><h2>Install {shinyValidator}</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"Novartis/shinyValidator"</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">library</span>(shinyValidator)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># At the root of your R package</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">use_validator</span>(<span class="st">"github"</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>devtools<span class="sc">::</span><span class="fu">document</span>() <span class="co"># update help</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section><section id="shinyvalidator-step-by-step" class="title-slide slide level1 center"><h1>{shinyValidator}: step by step</h1>

</section><section id="overall-concept" class="slide level2"><h2>Overall concept</h2>
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<p>
</p>
<pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-1">%%{init: {'theme':'dark'}}%%
flowchart TD
  subgraph CICD
    direction TB
    subgraph DMC 
      direction LR
      E[Lint] --&gt; F[Quality]
      F --&gt; G[Performance]
    end
    subgraph POC 
      direction LR
      H[Lint] --&gt; I[Quality]
    end
  end
  A(Shiny Project) --&gt; B(DMC App)
  A --&gt; C(Poof of concept App POC)
  B --&gt; |strict| D[Expectations]
  C --&gt; |low| D
  D --&gt; CICD 
  CICD --&gt; |create| J(Global HTML report)
  J --&gt; |deploy| K(Deployment server)
  click A callback "Tooltip for a callback"
  click B callback "DMC: data monitoring committee"
  click D callback "Apps have different expectations"
  click E callback "Lint code: check code formatting, style, ..."
  click F callback "Run R CMD check + headless crash test (shinytest2)"
  click G callback "Optional tests: profiling, load test, ..."
  click J callback "HTML reports with multiple tabs"
  click K callback "RStudio Connect, GitLab/GitHub pages, ..."
</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>

</div>
</div>
</div>
</section><section id="audit-app" class="slide level2"><h2>Audit app</h2>
<p><code>audit_app()</code> is the main function <sup>1</sup>:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>audit_app <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="at">headless_actions =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="at">timeout =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="at">workers =</span> <span class="dv">5</span>,</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="at">scope =</span> <span class="fu">c</span>(<span class="st">"manual"</span>, <span class="st">"DMC"</span>, <span class="st">"POC"</span>),</span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="at">output_validation =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="at">coverage =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-8"><a href="#cb7-8"></a>  <span class="at">load_testing =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-9"><a href="#cb7-9"></a>  <span class="at">profile_code =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="at">check_reactivity =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="at">flow =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="at">debug =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-13"><a href="#cb7-13"></a>  <span class="at">port =</span> httpuv<span class="sc">::</span><span class="fu">randomPort</span>(),</span>
<span id="cb7-14"><a href="#cb7-14"></a>  ...</span>
<span id="cb7-15"><a href="#cb7-15"></a>) {</span>
<span id="cb7-16"><a href="#cb7-16"></a>  <span class="do">###</span></span>
<span id="cb7-17"><a href="#cb7-17"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>
<strong>headless actions</strong>: pass <a href="https://github.com/rstudio/shinytest2">shinytest2</a> instructions.</li>
<li>
<strong>timeout</strong>: wait app to start.</li>
<li>
<strong>…</strong>: parameters to pass to <code>run_app()</code> such as database logins, …</li>
<li>
<strong>scope</strong>: predefined set of parameters (see examples).</li>
</ul>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>also works locally without CI/CD, assuming you have chrome/chromium and shinycannon installed</p></li></ol></aside></section><section id="audit-app-example" class="slide level2"><h2>Audit app: example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">audit_app</span>(<span class="at">profile_code =</span> <span class="cn">FALSE</span>, ...) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<p>
</p>
<pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-2">%%{init: {'theme':'dark'}}%%
graph TD
  A(Check) --&gt; B(Crashtest)
  B --&gt; C(Loadtest)
  C --&gt; D(Coverage)
  D --&gt; E(Reactivity)
  click A callback "devtools::check"
  click B callback "{shinytest2}"
  click C callback "{shinyloadtest}"
  click D callback "{covr}"
  click E callback "{reactlog}"
</pre>
<div id="mermaid-tooltip-2" class="mermaidTooltip">

</div>

</div>
</div>
</div>
</div>
</div>
</section><section id="audit-app-using-scope-parameter" class="slide level2"><h2>Audit app: using scope parameter</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">audit_app</span>(<span class="at">scope =</span> <span class="st">"POC"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<p>
</p>
<pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-3">%%{init: {'theme':'dark'}}%%
graph LR
  A(Check) --&gt; B(Crashtest)
</pre>
<div id="mermaid-tooltip-3" class="mermaidTooltip">

</div>

</div>
</div>
</div>
</div>
</div>
</section><section id="audit-app-headless-manipulation" class="slide level2"><h2>Audit app: headless manipulation</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># app refers to the headless app instance.</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">audit_app</span>({</span>
<span id="cb10-3"><a href="#cb10-3"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">obs =</span> <span class="dv">30</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a>  app<span class="sc">$</span><span class="fu">get_screenshot</span>(<span class="st">"plop.png"</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="co"># ... pass any other commands from shinytest2 API</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p><img src="assets/images/svg/shinytest2.svg" width="20%" style="display: block; margin: auto;" class="svg-img"></p>
</div>
</div>
</section><section id="about-monkey-testing" class="slide level2"><h2>About monkey testing</h2>
<p><code>run_crash_test()</code> runs a <code>gremlins.js</code> <a href="https://marmelab.com/gremlins.js/">test</a> if no headless action are passed:</p>
<center>
<video id="video_shortcode_videojs_video1" height="400px" class="video-js vjs-default-skin " controls="" preload="auto" data-setup="{}" title="Monkey testing for Shiny app"><source src="assets/video/monkey-test.mp4"></video>
</center>
</section><section id="report-example" class="slide level2"><h2>Report example</h2>
<iframe src="./assets/shinyvalidator-report/index.html" title="shinyValidator html report" width="100%" height="100%">
</iframe>
</section><section id="your-turn" class="slide level2"><h2>Your turn</h2>
<ol type="1">
<li>Call <code>run_audit(scope = "POC")</code>.</li>
<li>Look at the logs messages.</li>
<li>When done open <code>public/index.html</code> (external browser).</li>
<li>Explore the report.</li>
<li>Modify app code and rerun …</li>
</ol></section></section><section><section id="improve" class="title-slide slide level1 vertical-center center"><h1>Improve</h1>

</section><section id="disable-other-checks" class="slide level2"><h2>Disable other checks</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="2-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>shinyValidator<span class="sc">::</span><span class="fu">audit_app</span>(</span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="at">load_testing =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="at">coverage =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="at">profile_code =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="at">check_reactivity =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="at">debug =</span> <span class="cn">TRUE</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-red" variant="subtle">
<span class="drac-text drac-text-red drac-line-height drac-text-left drac-text-bold drac-text-lg">For learning purposes we disable load test, profiling, ... at the moment ...</span>
</div>
</div>
</div>
</div>
</section><section id="put-some-real-server-code" class="slide level2"><h2>Put some real server code</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Copy this into <code>app_server.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>output<span class="sc">$</span>distPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">hist</span>(<span class="fu">rnorm</span>(input<span class="sc">$</span>obs))</span>
<span id="cb12-3"><a href="#cb12-3"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p>Copy this into <code>app_ui.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">fluidPage</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">sliderInput</span>(</span>
<span id="cb13-3"><a href="#cb13-3"></a>    <span class="st">"obs"</span>,</span>
<span id="cb13-4"><a href="#cb13-4"></a>    <span class="st">"Number of observations:"</span>,</span>
<span id="cb13-5"><a href="#cb13-5"></a>    <span class="at">min =</span> <span class="dv">0</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>    <span class="at">max =</span> <span class="dv">1000</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a>    <span class="at">value =</span> <span class="dv">500</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>  ),</span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="fu">plotOutput</span>(<span class="st">"distPlot"</span>)</span>
<span id="cb13-10"><a href="#cb13-10"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="add-server-testing" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">Add server testing</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb14-1" class="hljs-ln-code"><a href="#cb14-1"></a>usethis<span class="sc">::</span><span class="fu">use_test</span>(<span class="st">"app-server-test"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="add-server-testing-1" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">Add server testing</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="|3|4|6|7|8|9"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb15-1" class="hljs-ln-code"><a href="#cb15-1"></a>usethis<span class="sc">::</span><span class="fu">use_test</span>(<span class="st">"app-server-test"</span>)</span>
<span id="cb15-2" class="hljs-ln-code"><a href="#cb15-2"></a><span class="co"># Inside app-server-test</span></span>
<span id="cb15-3" class="hljs-ln-code"><a href="#cb15-3"></a><span class="fu">testServer</span>(app_server, {</span>
<span id="cb15-4" class="hljs-ln-code"><a href="#cb15-4"></a>  session<span class="sc">$</span><span class="fu">setInputs</span>(<span class="at">obs =</span> <span class="dv">0</span>)</span>
<span id="cb15-5" class="hljs-ln-code"><a href="#cb15-5"></a>  <span class="co"># There should be an error</span></span>
<span id="cb15-6" class="hljs-ln-code"><a href="#cb15-6"></a>  <span class="fu">expect_error</span>(output<span class="sc">$</span>distPlot)</span>
<span id="cb15-7" class="hljs-ln-code"><a href="#cb15-7"></a>  session<span class="sc">$</span><span class="fu">setInputs</span>(<span class="at">obs =</span> <span class="dv">100</span>)</span>
<span id="cb15-8" class="hljs-ln-code"><a href="#cb15-8"></a>  <span class="fu">str</span>(output<span class="sc">$</span>distPlot)</span>
<span id="cb15-9" class="hljs-ln-code"><a href="#cb15-9"></a>})</span>
<span id="cb15-10" class="hljs-ln-code"><a href="#cb15-10"></a><span class="co"># Test it</span></span>
<span id="cb15-11" class="hljs-ln-code"><a href="#cb15-11"></a>devtools<span class="sc">::</span><span class="fu">test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-red" variant="subtle">
<span class="drac-text drac-text-red drac-line-height drac-text-left drac-text-bold drac-text-lg">Server tests are run without the UI, inputs have to be changed manually with session.</span>
</div>
</div>
</div>
</div>
</section><section id="time-to-commit-and-push" class="slide level2"><h2>Time to commit and push</h2>
</section><section id="customize-crash-test" class="slide level2"><h2>Customize Crash test</h2>
<p>Leverage <a href="https://github.com/rstudio/shinytest2">shinytest2</a> power<sup>1</sup>, <code>app</code> being the Shiny app to audit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="2-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>shinyValidator<span class="sc">::</span><span class="fu">audit_app</span>(</span>
<span id="cb16-2"><a href="#cb16-2"></a>  {</span>
<span id="cb16-3"><a href="#cb16-3"></a>    app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">obs =</span> <span class="dv">1000</span>)</span>
<span id="cb16-4"><a href="#cb16-4"></a>    app<span class="sc">$</span><span class="fu">get_screenshot</span>(<span class="st">"plop.png"</span>)</span>
<span id="cb16-5"><a href="#cb16-5"></a>  },</span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="at">load_testing =</span> <span class="cn">FALSE</span>, </span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="at">coverage =</span> <span class="cn">FALSE</span>, </span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="at">profile_code =</span> <span class="cn">FALSE</span>, </span>
<span id="cb16-9"><a href="#cb16-9"></a>  <span class="at">check_reactivity =</span> <span class="cn">FALSE</span>, </span>
<span id="cb16-10"><a href="#cb16-10"></a>  <span class="at">debug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb16-11"><a href="#cb16-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>See: https://rstudio.github.io/shinytest2/articles/in-depth.html</p></li></ol></aside></section><section id="output-checks-13" class="slide level2"><h2>Output checks (1/3)</h2>
<p>Create this function in <code>helpers.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>make_hist <span class="ot">&lt;-</span> <span class="cf">function</span>(val) {</span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">hist</span>(<span class="fu">rnorm</span>(val))</span>
<span id="cb17-3"><a href="#cb17-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Add it to <code>app_server.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>output<span class="sc">$</span>distPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">make_hist</span>(input<span class="sc">$</span>obs)</span>
<span id="cb18-3"><a href="#cb18-3"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Enable output check in <code>audit_app.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="2-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>shinyValidator<span class="sc">::</span><span class="fu">audit_app</span>(</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="at">load_testing =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="at">coverage =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="at">profile_code =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="at">check_reactivity =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="at">output_validation =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="at">debug =</span> <span class="cn">TRUE</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="output-checks-23" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">Output checks (2/3)</h2>
<p>Create a new test:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb20-1" class="hljs-ln-code"><a href="#cb20-1"></a>usethis<span class="sc">::</span><span class="fu">use_test</span>(<span class="st">"test-base-plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="output-checks-23-1" class="slide level2" data-auto-animate="true"><h2 data-id="quarto-animate-title">Output checks (2/3)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="|2|4|5|6"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb21-1" class="hljs-ln-code"><a href="#cb21-1"></a>usethis<span class="sc">::</span><span class="fu">use_test</span>(<span class="st">"test-base-plot"</span>)</span>
<span id="cb21-2" class="hljs-ln-code"><a href="#cb21-2"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"vdiffr"</span>)</span>
<span id="cb21-3" class="hljs-ln-code"><a href="#cb21-3"></a><span class="co"># Inside test-base-plot</span></span>
<span id="cb21-4" class="hljs-ln-code"><a href="#cb21-4"></a><span class="fu">test_that</span>(<span class="st">"Base plot OK"</span>, {</span>
<span id="cb21-5" class="hljs-ln-code"><a href="#cb21-5"></a>  <span class="fu">set.seed</span>(<span class="dv">42</span>) <span class="co"># to avoid the test from failing due to randomness :)</span></span>
<span id="cb21-6" class="hljs-ln-code"><a href="#cb21-6"></a>  vdiffr<span class="sc">::</span><span class="fu">expect_doppelganger</span>(<span class="st">"Base graphics histogram"</span>, <span class="fu">make_hist</span>(<span class="dv">500</span>))</span>
<span id="cb21-7" class="hljs-ln-code"><a href="#cb21-7"></a>})</span>
<span id="cb21-8" class="hljs-ln-code"><a href="#cb21-8"></a><span class="co"># Test it</span></span>
<span id="cb21-9" class="hljs-ln-code"><a href="#cb21-9"></a>devtools<span class="sc">::</span><span class="fu">test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="drac-box drac-card drac-bg-purple drac-p-md drac-m-md drac-rounded-full drac-h-auto drac-w-auto drac-scrollbar-purple drac-card-subtle drac-text-purple drac-border-red" variant="subtle">
<span class="drac-text drac-text-red drac-line-height drac-text-left drac-text-bold drac-text-lg">A svg snapshot is created during first run. If you change the plot, snapshots are compared.</span>
</div>
</div>
</div>
</div>
</section><section id="output-checks-33" class="slide level2"><h2>Output checks (3/3)</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>We slightly modify <code>make_hist()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>make_hist <span class="ot">&lt;-</span> <span class="cf">function</span>(val) {</span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">hist</span>(<span class="fu">rnorm</span>(val <span class="sc">*</span> <span class="dv">2</span>))</span>
<span id="cb22-3"><a href="#cb22-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And run the test again:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>devtools<span class="sc">::</span><span class="fu">test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Failure may be reviewed with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>testthat<span class="sc">::</span><span class="fu">snapshot_review</span>(<span class="st">'basic-plot'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<iframe src="./assets/output-validation-example/ggplot-validation.html" title="Output validation widget with {diffviewer}" width="100%" height="550px" style="margin-left: 30px">
</iframe>
</div>
</div>
</section><section id="performance-code-profiling-12" class="slide level2"><h2>Performance: Code profiling (1/2)</h2>
<p>Add this function to <code>helpers.R</code><sup>1</sup>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>slow_func <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb25-2"><a href="#cb25-2"></a>  vec <span class="ot">&lt;-</span> <span class="cn">NULL</span> <span class="co"># Or vec = c()</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_len</span>(n))</span>
<span id="cb25-4"><a href="#cb25-4"></a>    vec <span class="ot">&lt;-</span> <span class="fu">c</span>(vec, i)</span>
<span id="cb25-5"><a href="#cb25-5"></a>  vec</span>
<span id="cb25-6"><a href="#cb25-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Add it to <code>app_server.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>app_server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb26-2"><a href="#cb26-2"></a>  output<span class="sc">$</span>distPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb26-3"><a href="#cb26-3"></a>    <span class="fu">slow_func</span>(<span class="dv">5</span><span class="sc">*</span><span class="dv">10</span><span class="sc">^</span><span class="dv">4</span>) <span class="co"># you may reduce if needed</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>    <span class="fu">make_hist</span>(input<span class="sc">$</span>obs)</span>
<span id="cb26-5"><a href="#cb26-5"></a>  })</span>
<span id="cb26-6"><a href="#cb26-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside><ol class="aside-footnotes"><li id="fn3"><p>Stolen with ❤️ from Efficient R programming book: https://csgillespie.github.io/efficientR/programming.html</p></li></ol></aside></section><section id="performance-code-profiling-23" class="slide level2"><h2>Performance: Code profiling (2/3)</h2>
<p>We have to modify the custom headless script by adding a <strong>timeout</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" data-code-line-numbers="3,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>shinyValidator<span class="sc">::</span><span class="fu">audit_app</span>(</span>
<span id="cb27-2"><a href="#cb27-2"></a>  {</span>
<span id="cb27-3"><a href="#cb27-3"></a>    app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">obs =</span> <span class="dv">1000</span>, <span class="at">timeout_ =</span> <span class="dv">15</span> <span class="sc">*</span> <span class="dv">1000</span>)</span>
<span id="cb27-4"><a href="#cb27-4"></a>    app<span class="sc">$</span><span class="fu">get_screenshot</span>(<span class="st">"plop.png"</span>)</span>
<span id="cb27-5"><a href="#cb27-5"></a>  },</span>
<span id="cb27-6"><a href="#cb27-6"></a>  <span class="at">timeout =</span> <span class="dv">15</span>,</span>
<span id="cb27-7"><a href="#cb27-7"></a>  <span class="at">load_testing =</span> <span class="cn">FALSE</span>, </span>
<span id="cb27-8"><a href="#cb27-8"></a>  <span class="at">coverage =</span> <span class="cn">FALSE</span>, </span>
<span id="cb27-9"><a href="#cb27-9"></a>  <span class="at">profile_code =</span> <span class="cn">TRUE</span>, </span>
<span id="cb27-10"><a href="#cb27-10"></a>  <span class="at">check_reactivity =</span> <span class="cn">FALSE</span>, </span>
<span id="cb27-11"><a href="#cb27-11"></a>  <span class="at">debug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb27-12"><a href="#cb27-12"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Run the pipeline, wait and review the report.</p>
</section><section id="performance-code-profiling-33" class="slide level2"><h2>Performance: Code profiling (3/3)</h2>
<iframe src="./assets/code-profile-example/code-profile.html" title="Output validation widget with {diffviewer}" width="100%" height="550px" style="margin-left: 30px">
</iframe></section></section><section><section id="lets-add-cicd" class="title-slide slide level1 center"><h1>Let’s add CI/CD</h1>

</section><section id="pipeline-output" class="slide level2"><h2>Pipeline output</h2>

<img data-src="assets/images/png/gitlab-pipeline.png" class="r-stretch quarto-figure-center"><p class="caption">shinyValidator on GitLab CI</p></section><section id="shinyvalidator-cicd-file" class="slide level2"><h2>{shinyValidator} CI/CD file</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-3-1">Control branches</a></li>
<li><a href="#tabset-3-2">Control strategy</a></li>
<li><a href="#tabset-3-3">Steps</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1">
<p>In case you need to control branches triggering <code>{shinyValidator}</code>:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">,</span><span class="at"> master</span><span class="kw">,</span><span class="at"> &lt;CUSTOM_BRANCH&gt;</span><span class="kw">]</span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="at">  </span><span class="fu">pull_request</span><span class="kw">:</span></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">,</span><span class="at"> master</span><span class="kw">,</span><span class="at"> &lt;CUSTOM_BRANCH&gt;</span><span class="kw">]</span></span>
<span id="cb28-6"><a href="#cb28-6"></a></span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> shinyValidator</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:50%;">
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<p>
</p>
<pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-4">%%{init: {'theme':'dark'}}%%
gitGraph
  commit
  commit
  branch develop
  checkout develop
  commit
  commit
  checkout main
  merge develop
  commit
  commit id: "Normal" tag: "v1.0.0"
</pre>
<div id="mermaid-tooltip-4" class="mermaidTooltip">

</div>

</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-3-2">
<p>If you have to change the R version, os, …:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">strategy</span><span class="kw">:</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="at">  </span><span class="fu">fail-fast</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="at">  </span><span class="fu">matrix</span><span class="kw">:</span></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="at">    </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="fu">os</span><span class="kw">:</span><span class="at"> ubuntu-latest</span><span class="kw">,</span><span class="at">   </span><span class="fu">r</span><span class="kw">:</span><span class="at"> </span><span class="st">'devel'</span><span class="kw">,</span><span class="at"> </span><span class="fu">http-user-agent</span><span class="kw">:</span><span class="at"> </span><span class="st">'release'</span><span class="kw">}</span></span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="fu">os</span><span class="kw">:</span><span class="at"> ubuntu-latest</span><span class="kw">,</span><span class="at">   </span><span class="fu">r</span><span class="kw">:</span><span class="at"> </span><span class="st">'release'</span><span class="kw">}</span></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="fu">os</span><span class="kw">:</span><span class="at"> ubuntu-latest</span><span class="kw">,</span><span class="at">   </span><span class="fu">r</span><span class="kw">:</span><span class="at"> </span><span class="st">'oldrel-1'</span><span class="kw">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3">
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Lint code</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="at">  </span><span class="fu">shell</span><span class="kw">:</span><span class="at"> Rscript {0}</span></span>
<span id="cb30-3"><a href="#cb30-3"></a><span class="at">  </span><span class="fu">run</span><span class="kw">:</span><span class="at"> shinyValidator::lint_code()</span></span>
<span id="cb30-4"><a href="#cb30-4"></a></span>
<span id="cb30-5"><a href="#cb30-5"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Audit app 🏥</span></span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="at">  </span><span class="fu">shell</span><span class="kw">:</span><span class="at"> Rscript {0}</span></span>
<span id="cb30-7"><a href="#cb30-7"></a><span class="at">  </span><span class="fu">run</span><span class="kw">:</span><span class="at"> shinyValidator::audit_app()</span></span>
<span id="cb30-8"><a href="#cb30-8"></a></span>
<span id="cb30-9"><a href="#cb30-9"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Deploy to GitHub pages 🚀</span></span>
<span id="cb30-10"><a href="#cb30-10"></a><span class="at">  </span><span class="fu">if</span><span class="kw">:</span><span class="at"> github.event_name != 'pull_request'</span></span>
<span id="cb30-11"><a href="#cb30-11"></a><span class="at">  </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> JamesIves/github-pages-deploy-action@4.1.4</span></span>
<span id="cb30-12"><a href="#cb30-12"></a><span class="at">  </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb30-13"><a href="#cb30-13"></a><span class="at">    </span><span class="fu">clean</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb30-14"><a href="#cb30-14"></a><span class="at">    </span><span class="fu">branch</span><span class="kw">:</span><span class="at"> gh-pages</span></span>
<span id="cb30-15"><a href="#cb30-15"></a><span class="at">    </span><span class="fu">folder</span><span class="kw">:</span><span class="at"> public</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="example-disable-other-checks" class="slide level2"><h2>Example: disable other checks</h2>
<p>Modify GitHub actions yaml file:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb31-1"><a href="#cb31-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Audit app 🏥</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="at">  </span><span class="fu">shell</span><span class="kw">:</span><span class="at"> Rscript {0}</span></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="at">  </span><span class="fu">run</span><span class="kw">:</span><span class="at"> shinyValidator::audit_app(load_testing = FALSE, profile_code = FALSE, check_reactivity = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="link-to-github" class="slide level2"><h2>Link to GitHub</h2>
<p>Create a remote repository on GitHub and add it to the current project:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>usethis<span class="sc">::</span><span class="fu">use_github</span>() <span class="co"># make sure to have a valid GITHUB_PAT</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="co"># ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="run-our-first-pipeline" class="slide level2"><h2>Run our first pipeline</h2>
<ol type="1">
<li>Make sure GitHub <a href="https://github.com/DivadNojnarg/RtmpXU8dBM/settings/pages">Pages</a> is enabled.</li>
<li>Commit and push the code to GitHub.</li>
<li>You can follow the GitHub actions logs.</li>
<li>When done, open the report an discuss results.</li>
<li>Time to add some real things!</li>
</ol>
<div class="footer footer-default">
<p>Novartis, 2022</p>
</div>
</section></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="index_files/libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script><script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script><script src="index_files/libs/revealjs/plugin/notes/notes.js"></script><script src="index_files/libs/revealjs/plugin/search/search.js"></script><script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script><script src="index_files/libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>